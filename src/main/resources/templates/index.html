<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" style="font-family: 'Segoe UI',serif">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Student Manager</title>
  <link href="../static/images/hello.png" rel="shortcut icon" />

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

  <!-- Font Awesome -->
  <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

  <!-- Custom style -->
  <link rel="stylesheet" href="../static/css/mystyle.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

  <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script>
  <script src="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css"></script>

  <script type="text/javascript">
    $(document).ready(function() {

      $('#example').dataTable(); // dòng này để nhúng bảng biểu thành dạng bảng được phân trang

    } );
    function goToMainPage(){
      window.location = "/";
    }
  </script>
</head>

<body>

<nav class="navbar navbar-dark bg-dark" onclick="goToMainPage()">
  <a class="navbar-brand" href="#">Student Manager App</a>
</nav>

<div class="container" id="main-content">
  <div th:if="${messages}" class="alert alert-success alert-dismissible fade show" role="alert">
    <span th:text="${messages}"></span>
    <button type="button" class="close text-center" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>

  <div th:if="${error_message}" class="alert alert-danger alert-dismissible fade show" role="alert">
    <span th:text="${error_message}"></span>
    <button type="button" class="close text-center" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>

  <div class="row">
    <!--    <div class="col-6 no-padding">-->
    <!--      <form class="form-inline" action="#" th:action="@{/student/search}" method="get">-->
    <!--        <input class="form-control mr-sm-2" type="search" name="term" placeholder="Search by ID ..." />-->
    <!--        <button class="btn btn-primary" type="submit">-->
    <!--          <i class="fa fa-search"></i> Search-->
    <!--        </button>-->
    <!--      </form>-->
    <!--    </div>-->
    <!--    <div class="col-6 no-padding">-->
    <!--      <a href="#" th:href="@{/student/add}" class="btn btn-success">-->
    <!--        <i class="fa fa-plus-square"></i> New Student-->
    <!--      </a>-->
    <!--    </div>-->
  </div>

  <div class="" style="text-align: center;position: relative">
    <th:block th:if="${#lists.isEmpty(students)}">
      <h1 style="">No students</h1>
    </th:block>

    <th:block th:unless="${#lists.isEmpty(students)}">
      <h1>List of students</h1>
    </th:block>
  </div>

  <div class="table-responsive">
    <a href="#" th:href="@{/student/add}" class="btn btn-success" style="position: page">
      <i class="fa fa-plus-square"></i> New Student
    </a>
    <table id="example" class="table table-striped table-bordered">
      <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Age</th>
        <th>Gender</th>
        <th>Action</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="student,iterStat : ${students}">
        <td th:text="${student.id}"></td>
        <td th:text="${student.name}"></td>
        <td th:text="${student.age}"></td>
        <td th:text="${student.gender}"></td>
        <td>
          <a href="#" th:href="@{/student/{id}/edit(id=${student.id})}" th:objects="${student}" method="post" class="mr-sm-2 text-primary">
            <i class="fa fa-pencil"></i>
          </a>
          <a href="#" onclick="return confirm('Are you sure to delete this student?')" th:href="@{/student/{id}/delete(id=${student.id})}" class="text-danger">
            <i class="fa fa-trash"></i>
          </a>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

</div>
<footer style="position: static">
  <strong>&copy; 2022 Nguyen TX</strong>
</footer>
</body>

</html>